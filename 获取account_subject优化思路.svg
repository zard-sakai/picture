<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="631px" height="524px" viewBox="-0.5 -0.5 631 524" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2021-08-15T15:05:47.309Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36 Edg/92.0.902.73&quot; etag=&quot;-zjd_5ZZpvzwu_b1XZk5&quot; version=&quot;14.9.6&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;NxCEBFk3nWxgAxvNWijf&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hzard-sakai%2Fpicture%2Fmain%2F%E8%8E%B7%E5%8F%96account_subject%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF.svg"><defs><clipPath id="mx-clip-54-31-482-26-0"><rect x="54" y="31" width="482" height="26"/></clipPath><clipPath id="mx-clip-54-57-482-38-0"><rect x="54" y="57" width="482" height="38"/></clipPath><clipPath id="mx-clip-4-171-232-74-0"><rect x="4" y="171" width="232" height="74"/></clipPath><clipPath id="mx-clip-4-245-232-80-0"><rect x="4" y="245" width="232" height="80"/></clipPath><clipPath id="mx-clip-354-171-272-74-0"><rect x="354" y="171" width="272" height="74"/></clipPath><clipPath id="mx-clip-354-245-272-80-0"><rect x="354" y="245" width="272" height="80"/></clipPath><clipPath id="mx-clip-34-401-482-26-0"><rect x="34" y="401" width="482" height="26"/></clipPath><clipPath id="mx-clip-34-427-482-26-0"><rect x="34" y="427" width="482" height="26"/></clipPath><clipPath id="mx-clip-34-453-482-72-0"><rect x="34" y="453" width="482" height="72"/></clipPath></defs><g><path d="M 50 26 L 50 0 L 540 0 L 540 26" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 50 26 L 50 90 L 540 90 L 540 26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 50 26 L 540 26" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="294.5" y="17.5">最终效果</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-31-482-26-0)" font-size="12px"><text x="55.5" y="43.5">1、全量拉取ln_loan表数据</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-54-57-482-38-0)" font-size="12px"><text x="55.5" y="69.5">2、repay、repay_detail、fas_record、intf表通过loan_no关联获取account_subject</text></g><path d="M 285.2 90.99 L 126.1 138.19" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 121.07 139.68 L 126.79 134.34 L 126.1 138.19 L 128.78 141.05 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 166 L 0 140 L 240 140 L 240 166" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 166 L 0 320 L 240 320 L 240 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 166 L 240 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="119.5" y="157.5">全量拉取ln_loan表实现、问题</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-171-232-74-0)" font-size="12px"><text x="5.5" y="183.5">实现：</text><text x="5.5" y="197.5">1、取数sql语句不写third_code即可</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-4-245-232-80-0)" font-size="12px"><text x="5.5" y="257.5">问题：</text><text x="5.5" y="271.5">1、重跑是否要全量删除与加载；</text><text x="5.5" y="285.5">为了方便起见，编写多一个job专门用来</text><text x="5.5" y="299.5">全量同步ln_loan表数据</text></g><path d="M 350 166 L 350 140 L 630 140 L 630 166" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 166 L 350 320 L 630 320 L 630 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 166 L 630 166" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="489.5" y="157.5">其他表通过loan_no关联问题</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-354-171-272-74-0)" font-size="12px"><text x="355.5" y="183.5">实现：</text><text x="355.5" y="197.5">1、编写通过loan_no获取accountSubejct方法</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-354-245-272-80-0)" font-size="12px"><text x="355.5" y="257.5">问题：</text><text x="355.5" y="271.5">1、借据可能是账务工作台上线前产生的，即</text><text x="355.5" y="285.5">jt_loan_new表不包含该loan_no，因此不能完全</text><text x="355.5" y="299.5">丢弃api调用</text></g><path d="M 286 90 L 483.82 138.48" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 488.91 139.73 L 481.28 141.47 L 483.82 138.48 L 482.95 134.67 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 396 L 30 370 L 520 370 L 520 396" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 396 L 30 520 L 520 520 L 520 396" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 396 L 520 396" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="274.5" y="387.5">主要工作</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-34-401-482-26-0)" font-size="12px"><text x="35.5" y="413.5">1、编写专门加载放款数据的job</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-34-427-482-26-0)" font-size="12px"><text x="35.5" y="439.5">2、编写通过loan_no获取accountSubejct方法</text></g><g fill="#000000" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-34-453-482-72-0)" font-size="12px"><text x="35.5" y="465.5">3、修改各家资金方获取accountSubject的逻辑</text><text x="35.5" y="479.5">（1）尝试通过loan_no从jt_loan_new表获取</text><text x="35.5" y="493.5">（2）通过jt_account_subject表/ 调用 lcs api来获取third_code_ext</text></g></g></svg>